/*
 *  This file is part of CoCalc: Copyright © 2020 Sagemath, Inc.
 *  License: MS-RSL – see LICENSE.md for details
 */

@use '../colors'

// I just noticed there is another version of this file in ../_jupyter.sass
// They need to be carefully merged into one!  But not today.

.cocalc-jupyter-rendered
  img
    max-width: 100%
  table
    border: none
    border-collapse: collapse
    border-spacing: 0
    table-layout: fixed
    margin-top: 1em
  thead
    border-bottom: 1px solid #bdbdbd
    vertical-align: bottom
  tr, th, td
    text-align: right
    vertical-align: middle
    padding: 0.5em 0.5em
    line-height: normal
    white-space: normal
    max-width: none
    border: none
  th
    font-weight: bold
  tr:nth-child(odd) /* this doesn't work and I don't know why */
    background: #f5f5f5
  tr:hover
    background: rgba(66, 165, 245, 0.2)

.cocalc-jupyter-rendered-md
  img
    margin-left: auto
    margin-right: auto
    max-width: 100%
    height: auto

.cocalc-jupyter-anchor-link
  visibility: hidden

.cocalc-jupyter-header:hover .cocalc-jupyter-anchor-link
  text-decoration: none !important
  padding: 0px 20px
  visibility: visible

=smooth-background-color
  transition-property: background-color, color
  transition-timing-function: ease
  transition-duration: .1s
  transition-delay: 0s

.cocalc-jupyter-usage-info
  padding: 2px 2px 0px 2px
  margin-right: 1em
  border: 1px solid colors.$COL_GRAY_L
  +smooth-background-color

.cocalc-jupyter-btn-interrupt
  +smooth-background-color

.cocalc-jupyter-insert-cell
  width: 100%
  margin-bottom: 10px
  height: 8px
  margin-top: 10px
  cursor: pointer
  text-align: center
  &:hover
    background-color: colors.$COL_FG_BLUE
  &:hover .cocalc-jupyter-insert-cell-controls
    visibility: visible
    opacity: 1
  &.cocalc-jupyter-insert-cell-below
    margin-top: 20px
    height: 5px
    background-color: colors.$COL_GRAY_L
    > .cocalc-jupyter-insert-cell-controls
      top: -10px
    &:hover
      background-color: colors.$COL_FG_BLUE

.cocalc-jupyter-insert-cell-controls
  visibility: hidden
  opacity: 0
  z-index: 1
  position: relative
  top: -8px

.cocalc-jupyter-insert-cell-btn
  background-color: colors.$COL_FG_BLUE
  &:hover
    background-color: colors.$COL_BLUE_DD

.cocalc-jupyter-insert-cell-btn-below
  background-color: colors.$COL_GRAY_L
  &:hover
    background-color: colors.$COL_BLUE_DD

.cocalc-jupyter-menu
  .ant-dropdown-trigger:hover
    background-color: white

// Make it so the widgets container has position relative,
// which is assumed by some widgets, e.g.,
// %matplotlib widgets
// from pylab import plot; plot([1,2],[3,4])
cocalc-lumino-adapter
  position: relative

.cc-jupyter-error-banner
  max-height: 30vh
  overflow: auto
