/*
 *  This file is part of CoCalc: Copyright © 2020 Sagemath, Inc.
 *  License: MS-RSL – see LICENSE.md for details
 */

@use '../colors'

// make buttons and button-groups wrap with a larger vertical space (not 0 px)
.cc-frame-tree-title-bar-buttons

  > div.btn-group,
  > button.btn
    margin-bottom: 20px

// latex editor, build panel
.cocalc-latex-build-content

  .ant-tabs-tab
    margin: 0 !important
    padding: 0 !important
    > div
      width: 100%
      padding: 5px 10px
      margin: 0 10px 0 0
      text-align: left

  .ant-tabs-content-holder
    display: flex

    .ant-tabs-content
      overflow-y: auto

    .ant-tabs-tabpane
      display: flex
      flex-direction: column

// latex editor, output panel - full height tabs
// This ensures the new output panel tabs (Build, Errors, Stats) take full height
// and their content (like build logs, error lists) fills the available space
.cocalc-latex-output-tabs
  // Make the entire tabs container take full height and use flex layout
  // This is needed because the output panel should fill the available editor space
  height: 100%
  display: flex
  flex-direction: column

  // The content holder contains all tab panes and should expand to fill remaining space
  // flex: 1 makes it take all space not used by the tab headers
  .ant-tabs-content-holder
    flex: 1
    display: flex

  // The content wrapper needs to pass through the full height to individual tab panes
  .ant-tabs-content
    height: 100%
    display: flex
    flex-direction: column

  // Individual tab panes (Build content, Errors content, etc.) need full height
  .ant-tabs-tabpane
    height: 100%

    // CRITICAL: Only make the active tab pane use flex layout
    // Hidden tab panes (ant-tabs-tabpane-hidden) must remain hidden
    // Without this selector, all tab panes would be visible at once
    &:not(.ant-tabs-tabpane-hidden)
      display: flex
      flex-direction: column

// Frame Editor Focus Styles
// Provides visual feedback for ARIA keyboard navigation through frame editors
// and the main content landmark.

// Main content landmark focus indicator
[role="main"][tabindex="0"]:focus-visible
  outline: 2px solid colors.$COL_ANTD_LINK_BLUE
  outline-offset: 2px

// Frame editor focus when navigating with keyboard (Tab, Return)
.smc-vfill:focus-visible
  // Provide a subtle focus indicator without obscuring content
  box-shadow: inset 0 0 0 2px colors.$COL_ANTD_LINK_BLUE

// Frame editor active state (highlighted during keyboard navigation)
.frame-editor-active:focus-visible
  box-shadow: inset 0 0 0 2px colors.$COL_ANTD_LINK_BLUE
  background-color: colors.$COL_ANTD_BG_BLUE_L

// Content region while focused via landmark navigation
div[role="main"]:focus
  outline: 2px solid colors.$COL_ANTD_LINK_BLUE
  outline-offset: 2px
