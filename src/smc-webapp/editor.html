<!--
SageMathCloud: A collaborative web-based interface to Sage, IPython, LaTex and the Terminal.

    Copyright (C) 2014, William Stein

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->


<!--
Editor for files in a project
-->

<div id="salvus-editor-templates" class="hide">

    <!-- Template for the entire editor, both tabs and the actual content -->
    <div class="salvus-editor" style="margin-left:3em;">
        <div class="row" style="margin-top:1ex;">
            <!-- The editor content gets displayed here -->
            <div class="salvus-editor-content">
            </div>
        </div>
    </div>

    <!-- Template for the tab at the top of the editor with filename and an x -->
    <ul> <!-- ul so is valid html -->
        <li class="super-menu salvus-editor-filename-pill">
            <div class="salvus-editor-close-button-x pull-right lighten"><i class="fa fa-times"></i></div>
            <a>
                <span class="salvus-editor-tab-filename"></span>
            </a>
        </li>
    </ul>

    <!-- Template for the codemirror text editor -->
    <div class="salvus-editor-codemirror well">
        <div class="salvus-editor-codemirror-button-row">
            <div class="salvus-editor-codemirror-button-container">
                <div class="hidden-xs salvus-editor-chat-title salvus-editor-write-only pull-right">
                    <div class="smc-users-viewing-document">
                        <!--to be filled with react component for users viewing the document-->
                    </div>
                    <div class="salvus-editor-chat-title-text">
                        <i class="fa fa-caret-down salvus-editor-chat-hide"></i>
                        <i class="fa fa-caret-left hide salvus-editor-chat-show"></i>
                        <i class="fa fa-comments-o salvus-editor-chat-new-chats hide"></i>
                        <i class="fa fa-comment salvus-editor-chat-no-new-chats"></i>
                    </div>
                    <div class="salvus-editor-chat-title-video">
                        <i class="fa fa-video-camera salvus-editor-chat-video-toggle salvus-editor-chat-video-is-on hide"></i>
                        <i class="fa fa-video-camera salvus-editor-chat-video-toggle salvus-editor-chat-video-is-off"></i>
                    </div>
                </div>
                <div class="smc-editor-file-info-dropdown"></div>

                <span class="visible-xs">
                    <span class="btn-group">
                        <a href="#close" class="btn btn-default btn-lg"><i class="fa fa-toggle-up"></i> <span>Files...</span></a>
                        <a href="#save" class="btn  btn-success btn-lg"><i class="fa fa-save"></i></a>
                        <a href="#goto-line" class="btn btn-default btn-lg"><i class="fa fa-bolt"> </i></a>
                    </span>


                    <span class="btn-group salvus-editor-codemirror-worksheet-buttons hide">
                        <a href="#execute" class="btn btn-success btn-lg"> <i class="fa fa-play"></i></a>
                        <a href="#interrupt" class="btn btn-warning btn-lg"> <i class="fa fa-stop"></i></a>
                        <a href="#kill" class="btn btn-warning btn-lg"><i class="fa fa-refresh"></i></a>
                        <a href="#tab" class="btn btn-info btn-lg"> <i class="fa fa-step-forward"></i></a>
                    </span>


                    <span class="btn-group">
                        <a href="#decrease-font" class="btn btn-default btn-lg"><i class="fa fa-font" style="font-size:8pt"> </i> </a>
                        <a href="#increase-font" class="btn btn-default btn-lg"><i class="fa fa-font" style="font-size:13pt"> </i> </a>
                    </span>


                    <a class="btn btn-primary btn-lg hide" href="#copy-to-another-project"><i class="fa fa-send-o"> </i> <span>Copy To Your Project...</span></a>

                </span>
                <span class="hidden-xs">
                    <span class="salvus-editor-codemirror-worksheet-buttons hide">
                        <span class="btn-group salvus-editor-write-only">
                            <a href="#execute" class="btn btn-success" data-toggle="tooltip" data-placement="bottom" title="Execute current or selected cells."><i class="fa fa-play"></i> &nbsp;<span class="hidden-sm">Run</span></a>
                            <a href="#interrupt" class="btn btn-warning" data-toggle="tooltip" data-placement="bottom" title="Stop the running calculation."><i class="fa fa-stop"></i> <span class="hidden-sm">Stop</span></a>
                            <a href="#kill" class="btn btn-warning" data-toggle="tooltip" data-placement="bottom" title="Restart the running Sage process (all variables reset; fixes any problem)."><i class="fa fa-refresh"></i> <span class="hidden-sm">Restart</span></a>
                            <a href="#tab" class="btn btn-info"  data-toggle="tooltip" data-placement="bottom" title="Tab completion."> <i class="fa fa-step-forward"></i><span class="hidden-sm"> Tab</span></a>

                        </span>
                        <span class="btn-group salvus-editor-write-only">
                            <a href="#toggle-input" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Toggle display of input of selected cells."><i class="fa fa-toggle-on"></i> in</a>
                            <a href="#toggle-output" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Toggle display of output of selected cells."><i class="fa fa-toggle-on"></i> out</a>
                            <a href="#delete-output" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Delete output of selected cells."><i class="fa fa-times-circle"></i></a>
                        </span>
                    </span>
                </span>
                <span class="hidden-xs btn-group editor-btn-group">
                    <a href="#undo" class="btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Undo"><i class="fa fa-undo"></i></a>
                    <a href="#redo" class="btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Redo"><i class="fa fa-repeat"></i></a>
                    <a href="#autoindent" class="btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Autoindent selected text"><i class="fa fa-magic"></i></a>
                    <!--
<a href="#shift-left" class="hidden-sm btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Shift selected text left"><i class="fa fa-outdent"></i></a>
                    <a href="#shift-right" class="hidden-sm btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Shift selected text right"><i class="fa fa-indent"></i></a>
-->
                    <a href="#search" class="btn btn-default btn-history" data-toggle="tooltip" data-placement="bottom" title="Search"><i class="fa fa-search"></i></a>
                    <!-- <a href="#prev" class="btn btn-default btn-history" data-toggle="tooltip" data-placement="bottom" title="Previous"><i class="fa fa-chevron-up"></i></a>
                    <a href="#next" class="btn btn-default btn-history" data-toggle="tooltip" data-placement="bottom" title="Next"><i class="fa fa-chevron-down"></i></a>-->
                    <a href="#replace" class="btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Replace"><i class="fa fa-exchange"></i></a>
                    <a href="#split-view" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Split view of document">
                        <i class="fa fa-columns fa-rotate-270 salvus-editor-layout-0"></i>
                        <i class="fa fa-columns salvus-editor-layout-1"></i>
                        <i class="fa fa-tablet fa-rotate-90 salvus-editor-layout-2" style="font-size: 12pt;"></i>
                    </a>
                    <a href="#decrease-font" class="btn btn-default btn-history" data-toggle="tooltip" data-placement="bottom" title="Decrease text size"><i class="fa fa-font" style="font-size:7pt"> </i> </a>
                    <a href="#increase-font" class="btn btn-default btn-history" data-toggle="tooltip" data-placement="bottom" title="Increase text size"><i class="fa fa-font" style="font-size:11pt"> </i> </a>
                    <a href="#goto-line" class="btn btn-default btn-history" data-toggle="tooltip" data-placement="bottom" title="Go to line"><i class="fa fa-bolt"> </i> </a>
                    <a href="#print" class="btn btn-default salvus-editor-write-only" data-toggle="tooltip" data-placement="bottom" title="Print"><i class="fa fa-print"> </i> </a>
                </span>

                <span class="btn-group">
                    <a href="#save" class="hidden-xs btn btn-success salvus-editor-save-group" data-toggle="tooltip" data-placement="bottom" title="Save file to disk (file is constantly sync'd with server).">
                        <i class="fa fa-save"></i>
                        <span class="hidden-sm">Save</span>
                    </a>
                    <a href="#history" class="hidden-xs btn btn-info salvus-editor-history-button hide" data-toggle="tooltip" data-placement="bottom" title="View the history of this file.">
                        <i class="fa fa-history"></i>
                        <span class="hidden-sm">History</span>
                    </a>
                </span>

                <span class="hidden-xs">
                    <a class="btn btn-primary hide" href="#copy-to-another-project"><i class="fa fa-send-o"> </i> <span>Copy To Your Project...</span></a>
                    <!--<a class="btn btn-success" href="#download-file"><i class="fa fa-cloud-download"> </i> <span class="hidden-sm">Download</span></a>-->
                </span>

                <span class="salvus-editor-codemirror-loading hide">
                    <i class="fa fa-spinner"></i> load…
                </span>

                <span class="salvus-editor-history-controls hide">
                    <span class="salvus-editor-history-control-button-container btn-group">
                        <a href="#back" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Back"><i class="fa fa-step-backward"></i></a>
                        <a href="#forward" class="btn btn-default disabled" data-toggle="tooltip" data-placement="bottom" title="Forward"><i class="fa fa-step-forward"></i></a>
                    </span>
                    <span class="salvus-editor-history-revision-number"></span>
                    <span class="salvus-editor-history-revision-time"></span>
                </span>
                <div class="salvus-editor-history-slider hide">
                </div>

                <span class="salvus-editor-latex-buttons hide">
                    <span class="btn-group">
                       <a href="#forward-search" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Forward search (Alt+Enter)"><i class="fa fa-mail-forward"></i><span class="hidden-xs"> Forward</span></a>
                       <a href="#inverse-search" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Inverse search (Double or Ctrl+Click)"><i class="fa fa-mail-reply"></i><span class="hidden-xs">  Inverse</span></a>
                    </span>
                    <span class="btn-group">
                        <a href="#png-preview" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Show preview"><i class="fa fa-building"></i> Preview</a>
                        <a href="#errors" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Show errors and warnings"><i class="fa fa-bug"></i><span class="hidden-xs">  Issues </span><span class="salvus-latex-errors-counter"></span> <span class="salvus-latex-warnings-counter"></span></a>
                        <a href="#pdf-preview" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Show final rendered PDF"><i class="fa fa-eye"></i> PDF</a>
                        <a href="#log" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Show compilation log (save causes recompile)"><i class="fa fa-bolt"></i><span class="hidden-xs">  Build</span>
                            <span class="salvus-latex-build-status"></span></a>
                    </span>
                </span>

                <span class="salvus-editor-codemirror-sync">
                    <span class="salvus-editor-codemirror-not-synced hide"><i class="fa fa-spinner"></i> sync…</span>
                    <span class="salvus-editor-codemirror-synced hide"><i class="fa fa-ok"></i></span>
                </span>


                <span class="salvus-editor-codemirror-filename pull-right">
                </span>

            </div>

            <div class="salvus-editor-latex-buttonbar hide">
            </div>

            <div class="salvus-editor-codemirror-textedit-buttons hide">
                <code class="salvus-editor-codeedit-buttonbar-mode pull-right"></code>
            </div>
            <div class="salvus-editor-codemirror-worksheet-editable-buttons hide">
                <span class="btn-group">
                    <a href="#bold" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Bold"><i class="fa fa-bold"></i></a>
                    <a href="#italic" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Italic"><i class="fa fa-italic"></i></a>
                    <a href="#underline" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Underline"><i class="fa fa-underline"></i></a>
                    <a href="#strikethrough" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Strike through"><i class="fa fa-strikethrough"></i></a>
                    <a href="#subscript" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Subscript (use LaTeX for serious equations)"><i class="fa fa-subscript"></i></a>
                    <a href="#superscript" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Superscript"><i class="fa fa-superscript"></i></a>
                </span>
                <span class="btn-group">
                    <a href="#equation" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Inline equation..."> $  </a>
                    <a href="#display_equation" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Displayed equation..."> $$  </a>
                    <a href="#insertunorderedlist" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Insert unordered list"><i class="fa fa-list"></i></a>
                    <a href="#insertorderedlist" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Insert ordered list"><i class="fa fa-list-ol"></i></a>
                    <a href="#link" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Insert link..."><i class="fa fa-link"></i></a>
                    <a href="#image" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Insert image..."><i class="fa fa-image"></i></a>
                   <!-- <a href="#insertHorizontalRule" class="btn btn-default">&lt;hr&gt;</a> -->
                </span>
                <span class="btn-group">
                    <a href="#justifyleft" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Left justify"><i class="fa fa-align-left"></i></a>
                    <a href="#justifycenter" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Justify center"><i class="fa fa-align-center"></i></a>
                    <a href="#justifyright" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Right justify"><i class="fa fa-align-right"></i></a>
                    <a href="#justifyfull" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Justify full"><i class="fa fa-align-justify"></i></a>
                    <a href="#outdent" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Outdent"><i class="fa fa-outdent"></i></a>
                    <a href="#indent" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Indent"><i class="fa fa-indent"></i></a>
                </span>
                <span class="btn-group">
                    <a href="#undo" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Undo"><i class="fa fa-undo"></i></a>
                    <a href="#redo" class="btn btn-default"  data-toggle="tooltip" data-placement="top" title="Redo"><i class="fa fa-repeat"></i></a>
                </span>
                <span class="btn-group">
                    <span class="btn-group sagews-output-editor-font smc-tooltip"  data-toggle="tooltip" data-placement="top" title="Fonts">
                        <span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Font">
                            <i class="fa fa-font"></i> <b class="caret"></b>
                        </span>
                        <ul class="dropdown-menu">
                        </ul>
                    </span>
                    <span class="btn-group sagews-output-editor-font-size smc-tooltip"  data-toggle="tooltip" data-placement="top" title="Font size">
                        <span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Text height">
                            <i class="fa fa-text-height"></i> <b class="caret"></b>
                        </span>
                        <ul class="dropdown-menu">
                        </ul>
                    </span>
                    <span class="btn-group sagews-output-editor-block-type smc-tooltip"  data-toggle="tooltip" data-placement="top" title="Format type">
                        <span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Header">
                            <i class="fa fa-header"></i> <b class="caret"></b>
                        </span>
                        <ul class="dropdown-menu">
                        </ul>
                    </span>
                </span>
                <span class="btn-group"> <!-- not implemented yet -->
                    <span class="sagews-output-editor-foreground-color-selector input-group color smc-tooltip" data-color-format="rgb" data-toggle="tooltip" data-placement="top" title="Text color">
                        <input type="text" style="cursor:pointer" class="form-control">
                        <span class="input-group-addon" style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class="caret"></b></span>
                    </span>
                </span>
                <span class="btn-group"> <!-- not implemented yet -->
                    <span class="sagews-output-editor-background-color-selector input-group color smc-tooltip" data-color-format="rgb" data-toggle="tooltip" data-placement="top" title="Text background highlight color">
                        <input type="text" style="cursor:pointer" class="form-control">
                        <span class="input-group-addon"  style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class="caret"></b></span>
                    </span>
                </span>
            </div>
        </div>
        <div class="salvus-editor-codemirror-chat-column hide">
            <div class="salvus-editor-codemirror-chat">
                <div class="salvus-editor-codemirror-chat-video"></div>
                <div class="salvus-editor-codemirror-chat-output"></div>
                <textarea class="salvus-editor-codemirror-chat-input form-control" placeholder="Chat using HTML, Markdown and LaTeX..."></textarea>
            </div>
        </div>
        <div class="salvus-editor-codemirror-input-container-layout-1 hide">
            <div class="row">
                <div class="salvus-editor-codemirror-input-box col-sm-12">
                    <textarea></textarea>
                </div>
            </div>
            <div class="salvus-editor-resize-bar-layout-1">
            </div>
            <div class="row">
                <div class="salvus-editor-codemirror-input-box-1 col-sm-12">
                    <textarea></textarea>
                </div>
            </div>
        </div>

        <div class="salvus-editor-codemirror-input-container-layout-2 hide">
            <div class="row">
                <div class="salvus-editor-codemirror-input-box col-sm-6">
                    <textarea></textarea>
                </div>
                <div style="padding-left: 0;">
                    <div class="salvus-editor-resize-bar-layout-2"></div>
                    <div class="salvus-editor-codemirror-input-box-1">
                        <textarea></textarea>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Template for chat entries -->

    <div class="salvus-chat-entry">
        <div class="salvus-chat-header">
            <span class="salvus-chat-header-name"></span>
            (<span class="salvus-chat-header-date"></span>):
        </div>
        <span class="salvus-chat-entry-content">
        </span>
    </div>

    <!-- Template for chat activity entries (e.g. start video call) -->

    <div class="salvus-chat-activity-entry">
        <div class="salvus-chat-header">
            <span class="salvus-chat-header-name"></span>
            <span class="salvus-chat-header-activity"></span>
            (<span class="salvus-chat-header-date"></span>)
        </div>
    </div>

    <!-- Template for the codemirror text editor other user cursors -->
    <div class="salvus-editor-codemirror-cursor"><span class="salvus-editor-codemirror-cursor-label"></span><div class="salvus-editor-codemirror-cursor-inside">&nbsp;&nbsp;&nbsp;</div></div>

    <!-- Image viewer -->
    <div class="salvus-editor-image" style="margin-left: 1ex;">
        <span class="visible-xs">
            <span class="btn-group">
                <a href="#close" class="btn btn-default btn-lg"><i class="fa fa-toggle-up"></i> <span class="hidden-xs">Files...</span></a>
                <a class="btn btn-default btn-lg" href="#refresh"><i class="fa fa-refresh"></i>  Refresh</a>
            </span>
        </span>
        <span class="hidden-xs">
            <a class="btn btn-default" href="#refresh"><i class="fa fa-refresh"></i>  Refresh</a>
        </span>
        <div class="hidden-xs salvus-editor-image-title pull-right"> The title </div>
        <div class="salvus-editor-image-container"><img><span>Loading...</span></div>
    </div>

    <!-- Static HTML viewer -->
    <div class="salvus-editor-static-html">
        <div style="margin-left:1em">
            <span class="visible-xs">
                <a href="#close" class="btn btn-default btn-lg"><i class="fa fa-toggle-up"></i> Files...</a>
            </span>
        </div>
        <div class="salvus-editor-static-html-content">
            <iframe style="width:100%;border:0px;">
            </iframe>
        </div>
    </div>

    <!-- Templates for the png-based PDF previewer; this is designed for the pdf changes in little ways locally.  -->
    <div class="salvus-editor-pdf-preview">
        <div class="salvus-editor-pdf-preview-spinner hide"></div>
        <div class="salvus-editor-pdf-preview-highlight hide"></div>
        <span class="salvus-editor-pdf-preview-buttons">
            <span class="btn-group">
                <a href="#zoom-preview-out" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="bottom" title="Zoom out a little"><i class="fa fa-search-minus"></i></a>
                <a href="#zoom-preview-in" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="bottom" title="Zoom in a little"><i class="fa fa-search-plus"></i></a>
                <a href="#zoom-preview-fullpage" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="bottom" title="Zoom out to show the full page"><i class="fa fa-minus-square-o"></i></a>
                <a href="#zoom-preview-width" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="bottom" title="Zoom in fairly close"><i class="fa fa-plus-square-o"></i></a>
                <a href="#preview-resolution" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="bottom" title="Change the preview resolution"><i class="fa fa-th"></i></a>
                <a href="#pdf-download" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="bottom" title="Download the PDF file"><i class="fa fa-download"></i></a>
            </span>
        </span>
        <div class="salvus-editor-pdf-preview-page">
        </div>
    </div>



    <!-- Templates for the embedded PDF previewer: just uses the built-in renderer; can't cope with file updates, inverse search, etc. -->
    <div class="salvus-editor-pdf-preview-embed">
        <div class="salvus-editor-codemirror-button-row">
            <span class="salvus-editor-pdf-preview-embed-spinner hide"></span>
            <span class="btn-group">
                <a class="btn btn-default btn-lg visible-xs" href="#close" ><i class="fa fa-toggle-up"></i> <span class="hidden-xs">Files...</span></a>
                <a class="btn btn-default btn-lg visible-xs" href="#refresh"><i class="fa fa-refresh"></i> <span class="hidden-xs"> Refresh</span></a>
                <a class="btn btn-default hidden-xs" href="#refresh"><i class="fa fa-refresh"></i> <span class="hidden-xs"> Refresh</span></a>
            </span>
            <span class="btn-group pull-right">
            <a class="btn btn-default salvus-editor-pdf-title hidden-xs">
                <i class="fa fa-external-link"></i>
                <span></span>
            </a>
            </span>
        </div>
        <div class="salvus-editor-pdf-preview-embed-page">
            <iframe frameborder="0" scrolling="no">
                <br>
                <br>
                &nbsp;&nbsp;&nbsp;Your browser doesn't support embedded PDF's, but you can <a target='_blank'>download <span></span></a>...
            </iframe>
        </div>
    </div>

    <!-- Template for the LaTeX editor -->
    <div class="salvus-editor-latex">
        <div class="salvus-editor-latex-latex_editor">
        </div>
        <div class="salvus-editor-latex-resize-bar">
        </div>
        <div class="salvus-editor-latex-pdf-preview hide">
        </div>
        <div class="salvus-editor-latex-png-preview hide">
        </div>
        <div class="salvus-editor-latex-errors hide">
            <div style="margin-left:2em">
                <h3>Errors</h3>
                <div class="salvus-latex-errors">
                </div>
                <h3>Typesetting Issues</h3>
                <div class="salvus-latex-typesetting">
                </div>
                <h3>Other Warnings</h3>
                <div class="salvus-latex-warnings">
                </div>
                <div style="height:10em"></div>
            </div>
        </div>

        <!-- error/warning message templates -->

        <div class="salvus-editor-latex-mesg-template well hide">
            <a class="btn btn-default" style="max-width:80%">
                <i class="fa fa-mail-reply"></i>
                <span class="salvus-latex-mesg-line"></span>
                <span class="salvus-latex-mesg-page"></span>
                <span class="salvus-latex-mesg-file"></span>
                <span class="salvus-latex-mesg-message"></span>
            </a>
            <a class="btn pull-right btn-default">
                <i class="fa fa-mail-forward"></i>
            </a>
            <pre class="salvus-latex-mesg-content lighten hide"></pre>
        </div>

         <div class="salvus-editor-latex-log hide">
            <span class="btn-group pull-right" style="margin-right:1ex; margin-left:1ex">
                <a href="#latex-latex" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="left" title="Run Latex"><i class="fa fa-bolt"></i> Latex</a>
                <a href="#latex-bibtex" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="left" title="Run Bibtex"><i class="fa fa-bolt"></i> Bibtex</a>
                <a href="#latex-sage" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="left" title="Run Sagetex."><i class="fa fa-bolt"></i> Sage</a>
                <a href="#latex-trash-aux" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="left" title="Delete auxiliary build files."><i class="fa fa-trash-o"></i></a>
                <a href="#latex-command-undo" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="left" title="Reset build command."><i class="fa fa-times-circle"></i></a>
            </span>
            <input style="width:50%" type="text" class="form-control">
            <textarea rows="20" cols="100" class="well boxsizingBorder" readonly="" style="width:100%;background-color:white;">You have not run LaTeX yet.</textarea>
        </div>
        <div class="salvus-editor-latex-settings hide">
            <h1>Settings</h1>
        </div>
    </div>

    <!-- Template for the HTML-MD editor -->
    <div class="salvus-editor-html-md">
        <div class="salvus-editor-html-md-textedit-buttonbar">
        </div>
        <div class="salvus-editor-html-md-source-editor">
        </div>
        <div class="salvus-editor-html-md-resize-bar">
        </div>
        <div class="salvus-editor-html-md-preview">
            <a href="#disable-preview" class="pull-right btn btn-default"><i class="fa fa-check-square-o"></i> Preview</a>
            <a href="#enable-preview" class="pull-right btn btn-default btn-lg hide"><i class="fa fa-square-o"></i> Enable Preview</a>
            <div class="salvus-editor-html-md-preview-content">
            </div>
        </div>
    </div>


    <div class="salvus-editor-history">
        <div class="salvus-editor-history-history_editor"></div>
    </div>

    <span class="sagews-input">
        <span class="sagews-input-hr sagews-input-eval-state"></span>
        <span class="sagews-input-hr sagews-input-run-state"></span>
        <span class="sagews-input-hr sagews-input-newcell"></span>
    </span>

    <span class="sagews-output">
        <span class="sagews-output-container">
             <span class="sagews-output-messages"></span>
        </span>
    </span>

    <div class="salvus-ipython-notebook">
        <!--<h3 style="margin-left:1em">IPython Notebook: <span class="salvus-ipython-filename"></span></h3>-->
        <div class="salvus-ipython-notebook-buttons hidden-xs">
            <span class="salvus-ipython-notebook-status-messages lighten"> </span>
            <span class="hide salvus-ipython-notebook-danger">DANGER: Users on this VM could connect unless you stop your ipython-notebook server (they would have to know secret internal project-id).</span>
            <span class="btn-group">
                <a href="#save" class="btn btn-sm btn-success" data-toggle="tooltip" data-placement="bottom" title="Save .ipynb file to disk (file is constantly sync'd with server)."> <i class="fa fa-save"></i> Save</a>
                <a href="#history" class="btn btn-sm btn-info salvus-editor-history-button hide" data-toggle="tooltip" data-placement="bottom" title="View the history of this file.">
                        <i class="fa fa-history"></i>
                        <span class="hidden-sm">History</span>
                </a>
                <a href="#reload" class="btn  btn-sm btn-warning" data-toggle="tooltip" data-placement="bottom" title="Reload this Notebook; use if the IPython server is killed or restarted on another port"> <i class="fa fa-refresh"></i> Reload</a>
                <a href="#publish" class="btn btn-primary btn-sm" data-toggle="tooltip" data-placement="bottom" title="Publish this notebook for anybody to see"> <i class="fa fa-refresh fa-spin hide"> </i> <i class="fa fa-share-square-o"></i> Publish</a>
                <a href="#info" class="btn  btn-sm btn-info" data-toggle="tooltip" data-placement="bottom" title="Extra information about the IPython notebook"> <i class="fa fa-info-circle"></i> About </a>
            </span>
        </div>
        <div class="visible-xs">
            <span class="btn-group">
                <a href="#close" class="btn btn-default btn-lg"><i class="fa fa-toggle-up"></i> Files...</a>
                <a href="#save" class="btn btn-success btn-lg"> <i class="fa fa-save"></i> Save</a>
            </span>
            <span class="btn-group salvus-editor-codemirror-worksheet-buttons hide">
                <a href="#execute" class="btn btn-success btn-lg"> <i class="fa fa-play"></i>
                    <span>Run</span>
                </a>
                <a href="#interrupt" class="btn btn-warning btn-lg"> <i class="fa fa-stop"></i>
                    <span>Stop</span>
                </a>
                <a href="#tab" class="btn btn-default btn-lg"> <i class="fa fa-info-circle"></i>
                    <span>Tab</span>
                </a>
            </span>
            <span class="btn-group">
                <a href="#reload" class="btn btn-warning btn-lg"> <i class="fa fa-refresh"></i> Reload</a>
                <a href="#info" class="btn  btn-info btn-lg"> <i class="fa fa-info-circle"></i> </a>
            </span>
        </div>
        <h3 class="salvus-ipython-notebook-connecting hide" style="margin-left:2em">Opening...</h3>
        <div class="salvus-ipython-notebook-notebook"></div>
    </div>

    <div class="modal salvus-file-print-dialog" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close btn-close" aria-hidden="true">
                        <span style="font-size:20pt;">×</span>
                    </button>
                    <h3><i class="fa fa-print"> </i>  Printable PDF version of <span class="salvus-file-print-filename"></span></h3>
                </div>
                <div class="well">
                    <h4>Heading<span class="lighten"> (click to edit)</span></h4>
                    <div class="well" style="background-color:white; text-align:center">
                        <h4 class="salvus-file-print-title" contenteditable="true"></h4>
                        <h5 class="salvus-file-print-author" contenteditable="true"></h5>
                        <h5 class="salvus-file-print-date" contenteditable="true"></h5>
                    </div>
                    <div class="salvus-file-options-sagews hide">
                        <h4>Worksheet Options</h4>
                        <div class="well" style="background-color:white">
                            <div class="checkbox"><label class="" rel="tooltip" title="Table of contents">
                                <input type="checkbox" class="salvus-file-print-contents" rel="tooltip">Table of contents
                            </label></div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-close pull-left btn-default btn-lg">Close</button>
                    <button class="btn btn-primary btn-submit pull-left btn-lg"><i class="fa fa-bolt"> </i> Generate PDF</button>
                    <span class="salvus-file-printing-progress hide">Preparing PDF version...</span>
                    <a class="salvus-file-printing-link hide" target="_blank">link to PDF version</a>
                </div>
            </div>
        </div>
    </div>
    <div class="modal salvus-goto-line-dialog" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close btn-close" aria-hidden="true">
                        <span style="font-size:20pt;">×</span>
                    </button>
                    <h3><i class="fa fa-bolt"> </i>  Goto Line</h3>
                </div>
                <div class="well" style="margin:1em">
                    <div class="lighten">Enter <span class="salvus-goto-line-range"></span></div>
                    <input class="salvus-goto-line-input form-control" style="width:95%; margin-top: 1ex;" type="text" placeholder="">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-close btn-default">Cancel</button>
                    <button class="btn btn-primary btn-submit">OK</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal salvus-html-editor-link-dialog" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close btn-close" aria-hidden="true">
                        <span style="font-size:20pt;">×</span>
                    </button>
                    <h3><i class="fa fa-link"> </i>  Insert Link</h3>
                </div>
                <div class="well" style="margin:1em">
                    <div class="row">
                        <div class="col-sm-4 lighten">
                            URL (required)
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-url" type="text" placeholder="URL">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 lighten">
                            Displayed Text (optional)
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-display" type="text"  placeholder="Displayed Text">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 lighten">
                            Title (optional)
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-title" type="text" placeholder="Title">
                        </div>
                    </div>
                    <div class="row salvus-html-editor-target-row">
                        <div class="col-sm-4 lighten">
                            Target
                        </div>
                        <div class="col-sm-8">
                            <select class="form-control salvus-html-editor-target">
                                <option value="">None</option>
                                <option value="_blank">New Window</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-close btn-default">Cancel</button>
                    <button class="btn btn-primary btn-submit">Create Link</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal salvus-html-editor-image-dialog" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close btn-close" aria-hidden="true">
                        <span style="font-size:20pt;">×</span>
                    </button>
                    <h3><i class="fa fa-image"> </i>  Insert Image</h3>
                </div>
                <div class="well" style="margin:1em">
                    <div class="row">
                        <div class="col-sm-4 lighten">
                            URL or Filename
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-url" type="text" placeholder="URL">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 lighten">
                            <span class="salvus-html-editor-image-width-header-default">Width (optional)</span>
                            <span class="salvus-html-editor-image-width-header-tex hide">Width in percent (0-100)</span>
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-width" type="text"  placeholder="Width">
                        </div>
                    </div>
                    <div class="row salvus-html-editor-height-row">
                        <div class="col-sm-4 lighten">
                            Height (optional)
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-height" type="text" placeholder="Height">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 lighten">
                            Title (optional)
                        </div>
                        <div class="col-sm-8">
                            <input class="form-control salvus-html-editor-title" type="text" placeholder="Title">
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-close btn-default">Cancel</button>
                    <button class="btn btn-primary btn-submit">Insert Image</button>
                </div>
            </div>
        </div>
    </div>

    <!-- HTML symbol table: a single click inserts the character, pressing "close" closes the dialog -->
    <div class="modal salvus-html-editor-symbols-dialog" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close btn-close" aria-hidden="true">
                        <span style="font-size:20pt;">×</span>
                    </button>
                    <h3><i class="fa">&Omega;</i> Insert Symbol</h3>
                </div>
                <div class="well" style="margin:1em;font-size:12pt;cursor:pointer">
                    <table class="salvus-html-editor-symbols-dialog-table" width="100%" align="center">
                    <tbody>
                    <!-- the title attribute translation to HTML is "&#{title};" (e.g. "&beta;") -->
                    <tr align="center">
                    <td><b><span title="Aacute">Á</span></b></td>
                    <td><b><span title="aacute">á</span></b></td>
                    <td><b><span title="Acirc">Â</span></b></td>
                    <td><b><span title="acirc">â</span></b></td>
                    <td><b><span title="acute">´</span></b></td>
                    <td><b><span title="AElig">Æ</span></b></td>
                    <td><b><span title="aelig">æ</span></b></td>
                    <td><b><span title="Agrave">À</span></b></td>
                    <td><b><span title="agrave">à</span></b></td>
                    <td><b><span title="alefsym">ℵ</span></b></td>
                    <td><b><span title="Alpha">Α</span></b></td>
                    <td><b><span title="alpha">α</span></b></td>
                    <td><b><span title="amp">&amp;</span></b></td>
                    <td><b><span title="and">∧</span></b></td>
                    <td><b><span title="ang">∠</span></b></td>
                    <td><b><span title="Aring">Å</span></b></td>
                    <td><b><span title="aring">å</span></b></td>
                    <td><b><span title="asymp">≈</span></b></td>
                    <td><b><span title="Atilde">Ã</span></b></td>
                    <td><b><span title="atilde">ã</span></b></td>
                    <td><b><span title="Auml">Ä</span></b></td>
                    <td><b><span title="auml">ä</span></b></td>
                    <td><b><span title="bdquo">„</span></b></td>
                    <td><b><span title="Beta">Β</span></b></td>
                    <td><b><span title="beta">β</span></b></td>
                    <td><b><span title="brvbar">¦</span></b></td>
                    <td><b><span title="bull">•</span></b></td>
                    <td><b><span title="cap">∩</span></b></td>
                    <td><b><span title="Ccedil">Ç</span></b></td>
                    <td><b><span title="ccedil">ç</span></b></td>
                    <td><b><span title="cedil">¸</span></b></td>
                    <td><b><span title="cent">¢</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="Chi">Χ</span></b></td>
                    <td><b><span title="chi">χ</span></b></td>
                    <td><b><span title="circ">ˆ</span></b></td>
                    <td><b><span title="clubs">♣</span></b></td>
                    <td><b><span title="cong">≅</span></b></td>
                    <td><b><span title="copy">©</span></b></td>
                    <td><b><span title="crarr">↵</span></b></td>
                    <td><b><span title="cup">∪</span></b></td>
                    <td><b><span title="curren">¤</span></b></td>
                    <td><b><span title="dagger">†</span></b></td>
                    <td><b><span title="Dagger">‡</span></b></td>
                    <td><b><span title="darr">↓</span></b></td>
                    <td><b><span title="dArr">⇓</span></b></td>
                    <td><b><span title="deg">°</span></b></td>
                    <td><b><span title="Delta">Δ</span></b></td>
                    <td><b><span title="delta">δ</span></b></td>
                    <td><b><span title="diams">♦</span></b></td>
                    <td><b><span title="divide">÷</span></b></td>
                    <td><b><span title="Eacute">É</span></b></td>
                    <td><b><span title="eacute">é</span></b></td>
                    <td><b><span title="Ecirc">Ê</span></b></td>
                    <td><b><span title="ecirc">ê</span></b></td>
                    <td><b><span title="Egrave">È</span></b></td>
                    <td><b><span title="egrave">è</span></b></td>
                    <td><b><span title="empty">∅</span></b></td>
                    <td><b><span title="emsp"> </span></b></td>
                    <td><b><span title="ensp"> </span></b></td>
                    <td><b><span title="Epsilon">Ε</span></b></td>
                    <td><b><span title="epsilon">ε</span></b></td>
                    <td><b><span title="equiv">≡</span></b></td>
                    <td><b><span title="Eta">Η</span></b></td>
                    <td><b><span title="eta">η</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="ETH">Ð</span></b></td>
                    <td><b><span title="eth">ð</span></b></td>
                    <td><b><span title="Euml">Ë</span></b></td>
                    <td><b><span title="euml">ë</span></b></td>
                    <td><b><span title="euro">€</span></b></td>
                    <td><b><span title="exist">∃</span></b></td>
                    <td><b><span title="fnof">ƒ</span></b></td>
                    <td><b><span title="forall">∀</span></b></td>
                    <td><b><span title="frac12">½</span></b></td>
                    <td><b><span title="frac14">¼</span></b></td>
                    <td><b><span title="frac34">¾</span></b></td>
                    <td><b><span title="frasl">⁄</span></b></td>
                    <td><b><span title="Gamma">Γ</span></b></td>
                    <td><b><span title="gamma">γ</span></b></td>
                    <td><b><span title="ge">≥</span></b></td>
                    <td><b><span title="gt">&gt;</span></b></td>
                    <td><b><span title="harr">↔</span></b></td>
                    <td><b><span title="hArr">⇔</span></b></td>
                    <td><b><span title="hearts">♥</span></b></td>
                    <td><b><span title="hellip">…</span></b></td>
                    <td><b><span title="Iacute">Í</span></b></td>
                    <td><b><span title="iacute">í</span></b></td>
                    <td><b><span title="Icirc">Î</span></b></td>
                    <td><b><span title="icirc">î</span></b></td>
                    <td><b><span title="iexcl">¡</span></b></td>
                    <td><b><span title="Igrave">Ì</span></b></td>
                    <td><b><span title="igrave">ì</span></b></td>
                    <td><b><span title="image">ℑ</span></b></td>
                    <td><b><span title="infin">∞</span></b></td>
                    <td><b><span title="int">∫</span></b></td>
                    <td><b><span title="Iota">Ι</span></b></td>
                    <td><b><span title="iota">ι</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="iquest">¿</span></b></td>
                    <td><b><span title="isin">∈</span></b></td>
                    <td><b><span title="Iuml">Ï</span></b></td>
                    <td><b><span title="iuml">ï</span></b></td>
                    <td><b><span title="Kappa">Κ</span></b></td>
                    <td><b><span title="kappa">κ</span></b></td>
                    <td><b><span title="Lambda">Λ</span></b></td>
                    <td><b><span title="lambda">λ</span></b></td>
                    <td><b><span title="lang">〈</span></b></td>
                    <td><b><span title="laquo">«</span></b></td>
                    <td><b><span title="larr">←</span></b></td>
                    <td><b><span title="lArr">⇐</span></b></td>
                    <td><b><span title="lceil">⌈</span></b></td>
                    <td><b><span title="ldquo">“</span></b></td>
                    <td><b><span title="le">≤</span></b></td>
                    <td><b><span title="lfloor">⌊</span></b></td>
                    <td><b><span title="lowast">∗</span></b></td>
                    <td><b><span title="loz">◊</span></b></td>
                    <td><b><span title="lrm">‎</span></b></td>
                    <td><b><span title="lsaquo">‹</span></b></td>
                    <td><b><span title="lsquo">‘</span></b></td>
                    <td><b><span title="lt">&lt;</span></b></td>
                    <td><b><span title="macr">¯</span></b></td>
                    <td><b><span title="mdash">—</span></b></td>
                    <td><b><span title="micro">µ</span></b></td>
                    <td><b><span title="middot">·</span></b></td>
                    <td><b><span title="minus">−</span></b></td>
                    <td><b><span title="Mu">Μ</span></b></td>
                    <td><b><span title="mu">μ</span></b></td>
                    <td><b><span title="nabla">∇</span></b></td>
                    <td><b><span title="nbsp">&nbsp;</span></b></td>
                    <td><b><span title="ndash">–</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="ne">≠</span></b></td>
                    <td><b><span title="ni">∋</span></b></td>
                    <td><b><span title="not">¬</span></b></td>
                    <td><b><span title="notin">∉</span></b></td>
                    <td><b><span title="nsub">⊄</span></b></td>
                    <td><b><span title="Ntilde">Ñ</span></b></td>
                    <td><b><span title="ntilde">ñ</span></b></td>
                    <td><b><span title="Nu">Ν</span></b></td>
                    <td><b><span title="nu">ν</span></b></td>
                    <td><b><span title="Oacute">Ó</span></b></td>
                    <td><b><span title="oacute">ó</span></b></td>
                    <td><b><span title="Ocirc">Ô</span></b></td>
                    <td><b><span title="ocirc">ô</span></b></td>
                    <td><b><span title="OElig">Œ</span></b></td>
                    <td><b><span title="oelig">œ</span></b></td>
                    <td><b><span title="Ograve">Ò</span></b></td>
                    <td><b><span title="ograve">ò</span></b></td>
                    <td><b><span title="oline">‾</span></b></td>
                    <td><b><span title="Omega">Ω</span></b></td>
                    <td><b><span title="omega">ω</span></b></td>
                    <td><b><span title="Omicron">Ο</span></b></td>
                    <td><b><span title="omicron">ο</span></b></td>
                    <td><b><span title="oplus">⊕</span></b></td>
                    <td><b><span title="or">∨</span></b></td>
                    <td><b><span title="ordf">ª</span></b></td>
                    <td><b><span title="ordm">º</span></b></td>
                    <td><b><span title="Oslash">Ø</span></b></td>
                    <td><b><span title="oslash">ø</span></b></td>
                    <td><b><span title="Otilde">Õ</span></b></td>
                    <td><b><span title="otilde">õ</span></b></td>
                    <td><b><span title="otimes">⊗</span></b></td>
                    <td><b><span title="Ouml">Ö</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="ouml">ö</span></b></td>
                    <td><b><span title="para">¶</span></b></td>
                    <td><b><span title="part">∂</span></b></td>
                    <td><b><span title="permil">‰</span></b></td>
                    <td><b><span title="perp">⊥</span></b></td>
                    <td><b><span title="Phi">Φ</span></b></td>
                    <td><b><span title="phi">φ</span></b></td>
                    <td><b><span title="Pi">Π</span></b></td>
                    <td><b><span title="pi">π</span></b></td>
                    <td><b><span title="piv">ϖ</span></b></td>
                    <td><b><span title="plusmn">±</span></b></td>
                    <td><b><span title="pound">£</span></b></td>
                    <td><b><span title="prime">′</span></b></td>
                    <td><b><span title="Prime">″</span></b></td>
                    <td><b><span title="prod">∏</span></b></td>
                    <td><b><span title="prop">∝</span></b></td>
                    <td><b><span title="Psi">Ψ</span></b></td>
                    <td><b><span title="psi">ψ</span></b></td>
                    <td><b><span title="quot">"</span></b></td>
                    <td><b><span title="radic">√</span></b></td>
                    <td><b><span title="rang">〉</span></b></td>
                    <td><b><span title="raquo">»</span></b></td>
                    <td><b><span title="rarr">→</span></b></td>
                    <td><b><span title="rArr">⇒</span></b></td>
                    <td><b><span title="rceil">⌉</span></b></td>
                    <td><b><span title="rdquo">”</span></b></td>
                    <td><b><span title="real">ℜ</span></b></td>
                    <td><b><span title="reg">®</span></b></td>
                    <td><b><span title="rfloor">⌋</span></b></td>
                    <td><b><span title="Rho">Ρ</span></b></td>
                    <td><b><span title="rho">ρ</span></b></td>
                    <td><b><span title="rlm">‏</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="rsaquo">›</span></b></td>
                    <td><b><span title="rsquo">’</span></b></td>
                    <td><b><span title="sbquo">‚</span></b></td>
                    <td><b><span title="Scaron">Š</span></b></td>
                    <td><b><span title="scaron">š</span></b></td>
                    <td><b><span title="sdot">⋅</span></b></td>
                    <td><b><span title="sect">§</span></b></td>
                    <td><b><span title="shy">­</span></b></td>
                    <td><b><span title="Sigma">Σ</span></b></td>
                    <td><b><span title="sigma">σ</span></b></td>
                    <td><b><span title="sigmaf">ς</span></b></td>
                    <td><b><span title="sim">∼</span></b></td>
                    <td><b><span title="spades">♠</span></b></td>
                    <td><b><span title="sub">⊂</span></b></td>
                    <td><b><span title="sube">⊆</span></b></td>
                    <td><b><span title="sum">∑</span></b></td>
                    <td><b><span title="sup">⊃</span></b></td>
                    <td><b><span title="sup1">¹</span></b></td>
                    <td><b><span title="sup2">²</span></b></td>
                    <td><b><span title="sup3">³</span></b></td>
                    <td><b><span title="supe">⊇</span></b></td>
                    <td><b><span title="szlig">ß</span></b></td>
                    <td><b><span title="Tau">Τ</span></b></td>
                    <td><b><span title="tau">τ</span></b></td>
                    <td><b><span title="there4">∴</span></b></td>
                    <td><b><span title="Theta">Θ</span></b></td>
                    <td><b><span title="theta">θ</span></b></td>
                    <td><b><span title="thetasym">ϑ</span></b></td>
                    <td><b><span title="thinsp"> </span></b></td>
                    <td><b><span title="THORN">Þ</span></b></td>
                    <td><b><span title="thorn">þ</span></b></td>
                    <td><b><span title="tilde">˜</span></b></td>
                    </tr>
                    <tr align="center">
                    <td><b><span title="times">×</span></b></td>
                    <td><b><span title="trade">™</span></b></td>
                    <td><b><span title="Uacute">Ú</span></b></td>
                    <td><b><span title="uacute">ú</span></b></td>
                    <td><b><span title="uarr">↑</span></b></td>
                    <td><b><span title="uArr">⇑</span></b></td>
                    <td><b><span title="Ucirc">Û</span></b></td>
                    <td><b><span title="ucirc">û</span></b></td>
                    <td><b><span title="Ugrave">Ù</span></b></td>
                    <td><b><span title="ugrave">ù</span></b></td>
                    <td><b><span title="uml">¨</span></b></td>
                    <td><b><span title="upsih">ϒ</span></b></td>
                    <td><b><span title="Upsilon">Υ</span></b></td>
                    <td><b><span title="upsilon">υ</span></b></td>
                    <td><b><span title="Uuml">Ü</span></b></td>
                    <td><b><span title="uuml">ü</span></b></td>
                    <td><b><span title="weierp">℘</span></b></td>
                    <td><b><span title="Xi">Ξ</span></b></td>
                    <td><b><span title="xi">ξ</span></b></td>
                    <td><b><span title="Yacute">Ý</span></b></td>
                    <td><b><span title="yacute">ý</span></b></td>
                    <td><b><span title="yen">¥</span></b></td>
                    <td><b><span title="yuml">ÿ</span></b></td>
                    <td><b><span title="Yuml">Ÿ</span></b></td>
                    <td><b><span title="Zeta">Ζ</span></b></td>
                    <td><b><span title="zeta">ζ</span></b></td>
                    <td><b><span title="zwj">‍</span></b></td>
                    <td><b><span title="zwnj">‌</span></b></td>
                    </tr>
                    </tbody></table>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-close btn-default">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="salvus-editor-textedit-buttonbar" style="margin: 2px">
        <span class="btn-group">
            <a href="#bold" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Bold"><i class="fa fa-bold"></i></a>
            <a href="#italic" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Italic"><i class="fa fa-italic"></i></a>
            <a href="#underline" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Underline"><i class="fa fa-underline"></i></a>
            <a href="#strikethrough" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Strike through"><i class="fa fa-strikethrough"></i></a>
            <a href="#subscript" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Subscript (use LaTeX for serious equations)"><i class="fa fa-subscript"></i></a>
            <a href="#superscript" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Superscript"><i class="fa fa-superscript"></i></a>
            <a href="#comment" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Comment out selection"><i class="fa fa-comment-o"></i></a>
        </span>
        <span class="btn-group">
            <a href="#equation" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Inline equation..."> $  </a>
            <a href="#display_equation" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Displayed equation..."> $$  </a>
            <a href="#insertunorderedlist" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Insert unordered list"><i class="fa fa-list"></i></a>
            <a href="#insertorderedlist" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Insert ordered list"><i class="fa fa-list-ol"></i></a>
            <a href="#link" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Insert link..."><i class="fa fa-link"></i></a>
            <a href="#image" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Insert image..."><i class="fa fa-image"></i></a>
            <a href="#table" data-args="special" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Insert table"><i class="fa fa-table"></i></a>
            <a href="#horizontalRule" data-args="special" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Insert horizontal line"><i class="fa">&mdash;</i></a>
            <a href="#SpecialChar" data-args="special" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Insert Special Character ..."><i class="fa">&Omega;</i></a>
        </span>
        <span class="btn-group">
            <a href="#justifyleft" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Left justify"><i class="fa fa-align-left"></i></a>
            <a href="#justifycenter" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Justify center"><i class="fa fa-align-center"></i></a>
            <a href="#justifyright" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Right justify"><i class="fa fa-align-right"></i></a>
            <a href="#justifyfull" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Justify full"><i class="fa fa-align-justify"></i></a>
            <a href="#indent" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Indent/quote selected text"><i class="fa fa-indent"></i></a>
            <a href="#unformat" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Remove formatting"><i class="fa fa-remove"></i></a>
            <a href="#clean" class="btn btn-default"  data-toggle="tooltip" data-placement="bottom" title="Make selected HTML valid"><i class="fa fa-code"></i></a>
        </span>
        <span class="btn-group">
            <span class="btn-group sagews-output-editor-font-face smc-tooltip"  data-toggle="tooltip" data-placement="bottom" title="Fonts">
                <span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Font">
                    <i class="fa fa-font"></i> <b class="caret"></b>
                </span>
                <ul class="dropdown-menu">
                </ul>
            </span>
            <span class="btn-group sagews-output-editor-font-size smc-tooltip"  data-toggle="tooltip" data-placement="bottom" title="Font size">
                <span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Text height">
                    <i class="fa fa-text-height"></i> <b class="caret"></b>
                </span>
                <ul class="dropdown-menu">
                </ul>
            </span>
            <span class="btn-group sagews-output-editor-block-type smc-tooltip"  data-toggle="tooltip" data-placement="bottom" title="Format type">
                <span class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="Header">
                    <i class="fa fa-header"></i> <b class="caret"></b>
                </span>
                <ul class="dropdown-menu">
                </ul>
            </span>
        </span>
        <span class="btn-group">
            <span class="sagews-output-editor-foreground-color-selector input-group color smc-tooltip" data-color-format="rgb" data-toggle="tooltip" data-placement="bottom" title="Text color">
                <input type="text" style="cursor:pointer" class="form-control">
                <span class="input-group-addon" style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class="caret"></b></span>
            </span>
        </span>
        <span class="btn-group">
            <span class="sagews-output-editor-background-color-selector input-group color smc-tooltip" data-color-format="rgb" data-toggle="tooltip" data-placement="bottom" title="Text background highlight color">
                <input type="text" style="cursor:pointer" class="form-control">
                <span class="input-group-addon"  style="padding: 3px;"><i class="fa fa-font" style="height: 16px; width: 16px"></i><b class="caret"></b></span>
            </span>
        </span>
    </div>

    <div class="salvus-editor-codeedit-buttonbar hide" style="margin: 2px">
        <!-- buttonbar.coffee populates all entries -->
    </div>

    <div class="salvus-editor-redit-buttonbar hide" style="margin: 2px">
        <!-- buttonbar.coffee populates the entries -->
    </div>
    <div class="salvus-editor-julia-edit-buttonbar hide" style="margin: 2px">
        <!-- buttonbar.coffee populates the entries -->
    </div>
    <div class="salvus-editor-fricas-edit-buttonbar hide" style="margin: 2px">
        <!-- buttonbar.coffee populates the entries -->
    </div>
    <div class="salvus-editor-fallback-edit-buttonbar hide" style="margin: 2px">
        <a class="btn btn-default" href="#todo">&hellip;</a>
    </div>

    <!-- smc wizard, see wizard.coffee -->
    <div class="modal smc-wizard" data-backdrop="static" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="row">
                        <div class="col-sm-3"><h2><i class="fa fa-magic"></i> Wizard</h2>
                        </div>
                        <div class="col-sm-6">
                            <ul class="nav nav-pills smc-wizard-nav">
                            </ul>
                        </div>
                        <div class="col-sm-2">
                            <div>
                                <input class="form-control smc-wizard-search" type="text" placeholder="Search" />
                            </div>
                        </div>
                        <div class="col-sm-1">
                            <button type="button" class="close btn-close" aria-hidden="true" data-dismiss="modal">
                                <span>×</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-3">
                            <div>
                                <ul class="list-group smc-wizard-lvl1">
                                    <!-- <li class="list-group-item active"><span class="badge">3</span>Porta ac consectetur ac</li> -->
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div>
                                <ul class="list-group smc-wizard-lvl2">
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div>
                                <ul class="list-group smc-wizard-doc">
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <pre class="code smc-wizard-code"></pre>
                        </div>
                        <div class="col-sm-6">
                            <div class="panel panel-default smc-wizard-descr">
                                <!--<div class="panel-heading">Title 123</div>-->
                                <div class="panel-body">
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-close btn-default">Cancel</button>
                    <button class="btn btn-primary btn-submit">Insert Code</button>
                </div>
            </div>
        </div>
    </div>

    <div class='sagews-output-raw_input'>
        <div class="form-inline">
            <div class="form-group">
                <label class="sagews-output-raw_input-prompt">
                </label>
                <div class="input-group">
                    <input class="sagews-output-raw_input-value form-control">
                    <span class="input-group-btn">
                        <button class="btn btn-success sagews-output-raw_input-submit" type="button">
                            <i class="fa fa-check"></i>
                        </button>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

